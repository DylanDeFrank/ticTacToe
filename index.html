<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
const display = (function () {
    const create = () => {
        const board = []
        let row = []
        for(let i = 1; i < 10; i++) {
            row.push(i)
            if (i % 3 == 0) {
                board.push(row)
                row = []
            }
        }
        return board
    } 
        return {create} 
})()  
let board = display.create()  


function gameController() {
        const player1 =  prompt('Player 1, enter a name')
        const player2 = prompt('Player 2, enter a name')
        const players = [
        {
            name: player1,
            piece: 'X',
        
        },
        {
            name: player2,
            piece: 'O',
        }
        ]
        let activePlayer = players[0]
        
        const switchPlayerTurn = () => {
            activePlayer = activePlayer === players[0] ? players[1] : players[0];
        }
        
        const checkBoard = (board) => {
        const player1Pieces = ['X','X','X'].toString()
        const player2Pieces = ['O', 'O', 'O'].toString()
            for (i = 0; i < 3; i++ ) {
                if (board[i].toString() == player1Pieces) {
                    console.log('Player 1 wins')
                    return true
                }
                else if (board[i].toString() == player2Pieces) {
                    console.log('Player 2 wins')
                    return true
                }
            }
            let check = []
            for (ii = 0; ii < 3; ii++) {
                check = []
                for (i = 0; i < 3; i++) {
                check.push(board[i][ii])
                if (check.toString() == player1Pieces) {
                    console.log('Player 1 wins')
                    return true
                }
                else if (check.toString() == player2Pieces) {
                    console.log('Player 2 wins')
                    return true
                }
              
                }
            }
        }
        const move = () => {
            let choice = Number(prompt(board + `\n${activePlayer.name} pick a number to replace`))
            for (const row of board) {
                for (let numb of row) {
                    if (choice == numb) {
                        row[row.indexOf(numb)] = activePlayer.piece
                    }
                    else if (numb == 'X' | numb == 'O') {
                        return game1.move()
                    }   
                }
               
            }
            const display = console.log(board)
            return display
        }
return {switchPlayerTurn, checkBoard, move}
}

    

const game1 = gameController()

function playIt() {
    while(game1.checkBoard(board) != true) {
        game1.move()
        game1.checkBoard(board)
        game1.switchPlayerTurn()
    }
    alert('Winner!')
}



   









    </script>
</body>
</html>